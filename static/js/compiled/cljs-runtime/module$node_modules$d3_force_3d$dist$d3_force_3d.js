shadow$provide.module$node_modules$d3_force_3d$dist$d3_force_3d=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_binarytree$dist$d3_binarytree"),require("module$node_modules$d3_quadtree$dist$d3_quadtree"),require("module$node_modules$d3_octree$dist$d3_octree"),require("module$node_modules$d3_dispatch$dist$d3_dispatch"),require("module$node_modules$d3_timer$dist$d3_timer")):
"function"===typeof define&&define.amd?define("exports d3-binarytree d3-quadtree d3-octree d3-dispatch d3-timer".split(" "),factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory(global.d3=global.d3||{},global.d3,global.d3,global.d3,global.d3,global.d3))})(this,function(exports,d3Binarytree,d3Quadtree,d3Octree,d3Dispatch,d3Timer){function constant(x){return function(){return x}}function jiggle(random){return 1E-6*(random()-.5)}function x$jscomp$0(d){return d.x+d.vx}function y$jscomp$0(d){return d.y+
d.vy}function z$jscomp$0(d){return d.z+d.vz}function index(d){return d.index}function find(nodeById,nodeId){nodeById=nodeById.get(nodeId);if(!nodeById)throw Error("node not found: "+nodeId);return nodeById}function lcg(){let s=1;return()=>(s=(1664525*s+1013904223)%4294967296)/4294967296}function x$1(d){return d.x}function y$1(d){return d.y}function z$1(d){return d.z}var initialAngleRoll=Math.PI*(3-Math.sqrt(5)),initialAngleYaw=20*Math.PI/(9+Math.sqrt(221));exports.forceCenter=function(x,y,z){function force(){var i,
n=nodes.length,sx=0,sy=0,sz=0;for(i=0;i<n;++i){var node=nodes[i];sx+=node.x||0;sy+=node.y||0;sz+=node.z||0}sx=(sx/n-x)*strength;sy=(sy/n-y)*strength;sz=(sz/n-z)*strength;for(i=0;i<n;++i)node=nodes[i],sx&&(node.x-=sx),sy&&(node.y-=sy),sz&&(node.z-=sz)}var nodes,strength=1;null==x&&(x=0);null==y&&(y=0);null==z&&(z=0);force.initialize=function(_){nodes=_};force.x=function(_){return arguments.length?(x=+_,force):x};force.y=function(_){return arguments.length?(y=+_,force):y};force.z=function(_){return arguments.length?
(z=+_,force):z};force.strength=function(_){return arguments.length?(strength=+_,force):strength};return force};exports.forceCollide=function(radius){function force(){function apply(treeNode,arg1,arg2,arg3,arg4,arg5,arg6){arg1=[arg1,arg2,arg3,arg4,arg5,arg6];arg3=arg1[0];arg4=arg1[1];arg5=arg1[2];arg6=arg1[nDim];var y1=arg1[nDim+1],z1=arg1[nDim+2];arg1=treeNode.data;treeNode=treeNode.r;arg2=ri+treeNode;if(arg1)arg1.index>node.index&&(arg3=xi-arg1.x-arg1.vx,arg4=1<nDim?yi-arg1.y-arg1.vy:0,arg5=2<nDim?
zi-arg1.z-arg1.vz:0,arg6=arg3*arg3+arg4*arg4+arg5*arg5,arg6<arg2*arg2&&(0===arg3&&(arg3=jiggle(random),arg6+=arg3*arg3),1<nDim&&0===arg4&&(arg4=jiggle(random),arg6+=arg4*arg4),2<nDim&&0===arg5&&(arg5=jiggle(random),arg6+=arg5*arg5),arg6=(arg2-(arg6=Math.sqrt(arg6)))/arg6*strength,node.vx+=(arg3*=arg6)*(arg2=(treeNode*=treeNode)/(ri2+treeNode)),1<nDim&&(node.vy+=(arg4*=arg6)*arg2),2<nDim&&(node.vz+=(arg5*=arg6)*arg2),arg1.vx-=arg3*(arg2=1-arg2),1<nDim&&(arg1.vy-=arg4*arg2),2<nDim&&(arg1.vz-=arg5*arg2)));
else return arg3>xi+arg2||arg6<xi-arg2||1<nDim&&(arg4>yi+arg2||y1<yi-arg2)||2<nDim&&(arg5>zi+arg2||z1<zi-arg2)}for(var i,n=nodes.length,tree,node,xi,yi,zi,ri,ri2,k=0;k<iterations;++k)for(tree=(1===nDim?d3Binarytree.binarytree(nodes,x$jscomp$0):2===nDim?d3Quadtree.quadtree(nodes,x$jscomp$0,y$jscomp$0):3===nDim?d3Octree.octree(nodes,x$jscomp$0,y$jscomp$0,z$jscomp$0):null).visitAfter(prepare),i=0;i<n;++i)node=nodes[i],ri=radii[node.index],ri2=ri*ri,xi=node.x+node.vx,1<nDim&&(yi=node.y+node.vy),2<nDim&&
(zi=node.z+node.vz),tree.visit(apply)}function prepare(treeNode){if(treeNode.data)return treeNode.r=radii[treeNode.data.index];for(var i=treeNode.r=0;i<Math.pow(2,nDim);++i)treeNode[i]&&treeNode[i].r>treeNode.r&&(treeNode.r=treeNode[i].r)}function initialize(){if(nodes){var i,n=nodes.length;radii=Array(n);for(i=0;i<n;++i){var node=nodes[i];radii[node.index]=+radius(node,i,nodes)}}}var nodes,nDim,radii,random,strength=1,iterations=1;"function"!==typeof radius&&(radius=constant(null==radius?1:+radius));
force.initialize=function(_nodes,_numDimensions,_random){nodes=_nodes;nDim=_numDimensions;random=_random;initialize()};force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations};force.strength=function(_){return arguments.length?(strength=+_,force):strength};force.radius=function(_){return arguments.length?(radius="function"===typeof _?_:constant(+_),initialize(),force):radius};return force};exports.forceLink=function(links){function force(alpha){for(var k=0,n=links.length;k<
iterations;++k)for(var i=0,link,source,x,y=0,z=0,l;i<n;++i)link=links[i],source=link.source,link=link.target,x=link.x+link.vx-source.x-source.vx||jiggle(random),1<nDim&&(y=link.y+link.vy-source.y-source.vy||jiggle(random)),2<nDim&&(z=link.z+link.vz-source.z-source.vz||jiggle(random)),l=Math.sqrt(x*x+y*y+z*z),l=(l-distances[i])/l*alpha*strengths[i],x*=l,y*=l,z*=l,link.vx-=x*(l=bias[i]),1<nDim&&(link.vy-=y*l),2<nDim&&(link.vz-=z*l),source.vx+=x*(l=1-l),1<nDim&&(source.vy+=y*l),2<nDim&&(source.vz+=z*
l)}function initialize(){if(nodes){var n=nodes.length,m=links.length,nodeById=new Map(nodes.map((d,i)=>[id(d,i,nodes),d]));var i$jscomp$0=0;for(count=Array(n);i$jscomp$0<m;++i$jscomp$0)n=links[i$jscomp$0],n.index=i$jscomp$0,"object"!==typeof n.source&&(n.source=find(nodeById,n.source)),"object"!==typeof n.target&&(n.target=find(nodeById,n.target)),count[n.source.index]=(count[n.source.index]||0)+1,count[n.target.index]=(count[n.target.index]||0)+1;i$jscomp$0=0;for(bias=Array(m);i$jscomp$0<m;++i$jscomp$0)n=
links[i$jscomp$0],bias[i$jscomp$0]=count[n.source.index]/(count[n.source.index]+count[n.target.index]);strengths=Array(m);initializeStrength();distances=Array(m);initializeDistance()}}function initializeStrength(){if(nodes)for(var i=0,n=links.length;i<n;++i)strengths[i]=+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i=0,n=links.length;i<n;++i)distances[i]=+distance(links[i],i,links)}var id=index,strength=function(link){return 1/Math.min(count[link.source.index],count[link.target.index])},
strengths,distance=constant(30),distances,nodes,nDim,count,bias,random,iterations=1;null==links&&(links=[]);force.initialize=function(_nodes,_numDimensions,_random){nodes=_nodes;nDim=_numDimensions;random=_random;initialize()};force.links=function(_){return arguments.length?(links=_,initialize(),force):links};force.id=function(_){return arguments.length?(id=_,force):id};force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations};force.strength=function(_){return arguments.length?
(strength="function"===typeof _?_:constant(+_),initializeStrength(),force):strength};force.distance=function(_){return arguments.length?(distance="function"===typeof _?_:constant(+_),initializeDistance(),force):distance};return force};exports.forceManyBody=function(){function force(_){var n=nodes.length,tree=(1===nDim?d3Binarytree.binarytree(nodes,x$1):2===nDim?d3Quadtree.quadtree(nodes,x$1,y$1):3===nDim?d3Octree.octree(nodes,x$1,y$1,z$1):null).visitAfter(accumulate);alpha=_;for(_=0;_<n;++_)node$jscomp$0=
nodes[_],tree.visit(apply)}function initialize(){if(nodes){var i,n=nodes.length;strengths=Array(n);for(i=0;i<n;++i){var node=nodes[i];strengths[node.index]=+strength$jscomp$0(node,i,nodes)}}}function accumulate(treeNode){var strength=0,q,c,weight=0,x,y,z,i,numChildren=treeNode.length;if(numChildren){for(x=y=z=i=0;i<numChildren;++i)(q=treeNode[i])&&(c=Math.abs(q.value))&&(strength+=q.value,weight+=c,x+=c*(q.x||0),y+=c*(q.y||0),z+=c*(q.z||0));strength*=Math.sqrt(4/numChildren);treeNode.x=x/weight;1<
nDim&&(treeNode.y=y/weight);2<nDim&&(treeNode.z=z/weight)}else{q=treeNode;q.x=q.data.x;1<nDim&&(q.y=q.data.y);2<nDim&&(q.z=q.data.z);do strength+=strengths[q.data.index];while(q=q.next)}treeNode.value=strength}function apply(treeNode,x1,arg1,arg2,arg3){if(!treeNode.value)return!0;var x=treeNode.x-node$jscomp$0.x,y=1<nDim?treeNode.y-node$jscomp$0.y:0,z=2<nDim?treeNode.z-node$jscomp$0.z:0;x1=[arg1,arg2,arg3][nDim-1]-x1;arg1=x*x+y*y+z*z;if(x1*x1/theta2<arg1)return arg1<distanceMax2&&(0===x&&(x=jiggle(random),
arg1+=x*x),1<nDim&&0===y&&(y=jiggle(random),arg1+=y*y),2<nDim&&0===z&&(z=jiggle(random),arg1+=z*z),arg1<distanceMin2&&(arg1=Math.sqrt(distanceMin2*arg1)),node$jscomp$0.vx+=x*treeNode.value*alpha/arg1,1<nDim&&(node$jscomp$0.vy+=y*treeNode.value*alpha/arg1),2<nDim&&(node$jscomp$0.vz+=z*treeNode.value*alpha/arg1)),!0;if(!(treeNode.length||arg1>=distanceMax2)){if(treeNode.data!==node$jscomp$0||treeNode.next)0===x&&(x=jiggle(random),arg1+=x*x),1<nDim&&0===y&&(y=jiggle(random),arg1+=y*y),2<nDim&&0===z&&
(z=jiggle(random),arg1+=z*z),arg1<distanceMin2&&(arg1=Math.sqrt(distanceMin2*arg1));do treeNode.data!==node$jscomp$0&&(x1=strengths[treeNode.data.index]*alpha/arg1,node$jscomp$0.vx+=x*x1,1<nDim&&(node$jscomp$0.vy+=y*x1),2<nDim&&(node$jscomp$0.vz+=z*x1));while(treeNode=treeNode.next)}}var nodes,nDim,node$jscomp$0,random,alpha,strength$jscomp$0=constant(-30),strengths,distanceMin2=1,distanceMax2=Infinity,theta2=.81;force.initialize=function(_nodes,_numDimensions,_random){nodes=_nodes;nDim=_numDimensions;
random=_random;initialize()};force.strength=function(_){return arguments.length?(strength$jscomp$0="function"===typeof _?_:constant(+_),initialize(),force):strength$jscomp$0};force.distanceMin=function(_){return arguments.length?(distanceMin2=_*_,force):Math.sqrt(distanceMin2)};force.distanceMax=function(_){return arguments.length?(distanceMax2=_*_,force):Math.sqrt(distanceMax2)};force.theta=function(_){return arguments.length?(theta2=_*_,force):Math.sqrt(theta2)};return force};exports.forceRadial=
function(radius,x,y,z){function force(alpha){for(var i=0,n=nodes.length;i<n;++i){var node=nodes[i],dx=node.x-x||1E-6,dy=(node.y||0)-y||1E-6,dz=(node.z||0)-z||1E-6,r=Math.sqrt(dx*dx+dy*dy+dz*dz);r=(radiuses[i]-r)*strengths[i]*alpha/r;node.vx+=dx*r;1<nDim&&(node.vy+=dy*r);2<nDim&&(node.vz+=dz*r)}}function initialize(){if(nodes){var i,n=nodes.length;strengths=Array(n);radiuses=Array(n);for(i=0;i<n;++i)radiuses[i]=+radius(nodes[i],i,nodes),strengths[i]=isNaN(radiuses[i])?0:+strength(nodes[i],i,nodes)}}
var nodes,nDim,strength=constant(.1),strengths,radiuses;"function"!==typeof radius&&(radius=constant(+radius));null==x&&(x=0);null==y&&(y=0);null==z&&(z=0);force.initialize=function(initNodes,numDimensions){nodes=initNodes;nDim=numDimensions;initialize()};force.strength=function(_){return arguments.length?(strength="function"===typeof _?_:constant(+_),initialize(),force):strength};force.radius=function(_){return arguments.length?(radius="function"===typeof _?_:constant(+_),initialize(),force):radius};
force.x=function(_){return arguments.length?(x=+_,force):x};force.y=function(_){return arguments.length?(y=+_,force):y};force.z=function(_){return arguments.length?(z=+_,force):z};return force};exports.forceSimulation=function(nodes,numDimensions){function step(){tick();event.call("tick",simulation);alpha<alphaMin&&(stepper.stop(),event.call("end",simulation))}function tick(iterations){var i,n=nodes.length;void 0===iterations&&(iterations=1);for(var k=0;k<iterations;++k)for(alpha+=(alphaTarget-alpha)*
alphaDecay,forces.forEach(function(force){force(alpha)}),i=0;i<n;++i){var node=nodes[i];null==node.fx?node.x+=node.vx*=velocityDecay:(node.x=node.fx,node.vx=0);1<nDim&&(null==node.fy?node.y+=node.vy*=velocityDecay:(node.y=node.fy,node.vy=0));2<nDim&&(null==node.fz?node.z+=node.vz*=velocityDecay:(node.z=node.fz,node.vz=0))}return simulation}function initializeNodes(){for(var i=0,n=nodes.length,node;i<n;++i){node=nodes[i];node.index=i;null!=node.fx&&(node.x=node.fx);null!=node.fy&&(node.y=node.fy);
null!=node.fz&&(node.z=node.fz);if(isNaN(node.x)||1<nDim&&isNaN(node.y)||2<nDim&&isNaN(node.z)){var radius=10*(2<nDim?Math.cbrt(.5+i):1<nDim?Math.sqrt(.5+i):i),rollAngle=i*initialAngleRoll,yawAngle=i*initialAngleYaw;1===nDim?node.x=radius:2===nDim?(node.x=radius*Math.cos(rollAngle),node.y=radius*Math.sin(rollAngle)):(node.x=radius*Math.sin(rollAngle)*Math.cos(yawAngle),node.y=radius*Math.cos(rollAngle),node.z=radius*Math.sin(rollAngle)*Math.sin(yawAngle))}if(isNaN(node.vx)||1<nDim&&isNaN(node.vy)||
2<nDim&&isNaN(node.vz))node.vx=0,1<nDim&&(node.vy=0),2<nDim&&(node.vz=0)}}function initializeForce(force){force.initialize&&force.initialize(nodes,nDim,random);return force}var nDim=Math.min(3,Math.max(1,Math.round(numDimensions||2))),simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=new Map,stepper=d3Timer.timer(step),event=d3Dispatch.dispatch("tick","end"),random=lcg();null==nodes&&(nodes=[]);initializeNodes();return simulation={tick,restart:function(){return stepper.restart(step),
simulation},stop:function(){return stepper.stop(),simulation},numDimensions:function(_){return arguments.length?(nDim=Math.min(3,Math.max(1,Math.round(_))),forces.forEach(initializeForce),simulation):nDim},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.forEach(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?
(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},randomSource:function(_){return arguments.length?(random=_,forces.forEach(initializeForce),simulation):random},force:function(name,_){return 1<arguments.length?(null==_?forces.delete(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(){var args=
Array.prototype.slice.call(arguments),x=args.shift()||0,y=(1<nDim?args.shift():null)||0,z=(2<nDim?args.shift():null)||0;args=args.shift()||Infinity;var i,n=nodes.length;args*=args;for(i=0;i<n;++i){var node=nodes[i];var dx=x-node.x;var dy=y-(node.y||0);var dz=z-(node.z||0);dx=dx*dx+dy*dy+dz*dz;if(dx<args){var closest=node;args=dx}}return closest},on:function(name,_){return 1<arguments.length?(event.on(name,_),simulation):event.on(name)}}};exports.forceX=function(x){function force(alpha){for(var i=
0,n=nodes.length,node;i<n;++i)node=nodes[i],node.vx+=(xz[i]-node.x)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;strengths=Array(n);xz=Array(n);for(i=0;i<n;++i)strengths[i]=isNaN(xz[i]=+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}var strength=constant(.1),nodes,strengths,xz;"function"!==typeof x&&(x=constant(null==x?0:+x));force.initialize=function(_){nodes=_;initialize()};force.strength=function(_){return arguments.length?(strength="function"===typeof _?_:constant(+_),
initialize(),force):strength};force.x=function(_){return arguments.length?(x="function"===typeof _?_:constant(+_),initialize(),force):x};return force};exports.forceY=function(y){function force(alpha){for(var i=0,n=nodes.length,node;i<n;++i)node=nodes[i],node.vy+=(yz[i]-node.y)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;strengths=Array(n);yz=Array(n);for(i=0;i<n;++i)strengths[i]=isNaN(yz[i]=+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}var strength=constant(.1),
nodes,strengths,yz;"function"!==typeof y&&(y=constant(null==y?0:+y));force.initialize=function(_){nodes=_;initialize()};force.strength=function(_){return arguments.length?(strength="function"===typeof _?_:constant(+_),initialize(),force):strength};force.y=function(_){return arguments.length?(y="function"===typeof _?_:constant(+_),initialize(),force):y};return force};exports.forceZ=function(z){function force(alpha){for(var i=0,n=nodes.length,node;i<n;++i)node=nodes[i],node.vz+=(zz[i]-node.z)*strengths[i]*
alpha}function initialize(){if(nodes){var i,n=nodes.length;strengths=Array(n);zz=Array(n);for(i=0;i<n;++i)strengths[i]=isNaN(zz[i]=+z(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}var strength=constant(.1),nodes,strengths,zz;"function"!==typeof z&&(z=constant(null==z?0:+z));force.initialize=function(_){nodes=_;initialize()};force.strength=function(_){return arguments.length?(strength="function"===typeof _?_:constant(+_),initialize(),force):strength};force.z=function(_){return arguments.length?
(z="function"===typeof _?_:constant(+_),initialize(),force):z};return force};Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_force_3d$dist$d3_force_3d.js.map
