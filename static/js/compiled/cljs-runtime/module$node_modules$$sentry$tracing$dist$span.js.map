{
"version":3,
"file":"module$node_modules$$sentry$tracing$dist$span.js",
"lineCount":8,
"mappings":"AAAAA,cAAA,CAAe,6CAAf,CAAkE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAC1GC,MAAA,CAAOC,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,iCAAR,CAAd,CACIO,QAAUP,OAAA,CAAQ,8CAAR,CADd,CAEIQ,aAAeR,OAAA,CAAQ,qDAAR,CAOfS,OAAAA,CAA8B,QAAS,EAAG,CAC1CA,QAASA,aAAY,CAACC,MAAD,CAAS,CACX,IAAK,EAApB,GAAIA,MAAJ,GAAyBA,MAAzB,CAAkC,GAAlC,CACA,KAAA,CAAKC,KAAL,CAAa,EACb,KAAA,CAAKC,OAAL,CAAeF,MAHW,CAW9BD,YAAA,CAAaI,SAAb,CAAuBC,GAAvB,CAA6BC,QAAS,CAACC,IAAD,CAAO,CACrC,IAAJ,CAASL,KAAT,CAAeM,MAAf;AAAwB,IAAxB,CAA6BL,OAA7B,CACII,IADJ,CACSE,YADT,CACwBC,IAAAA,EADxB,CAII,IAAA,CAAKR,KAAL,CAAWS,IAAX,CAAgBJ,IAAhB,CALqC,CAQ7C,OAAOP,aApBmC,CAAZ,EAsBlCP,QAAA,CAAQO,YAAR,CAAuBA,MAInBY,OAAAA,CAAsB,QAAS,EAAG,CAOlCA,QAASA,KAAI,CAACC,WAAD,CAAc,CAIvB,IAAA,CAAKC,OAAL,CAAehB,OAAA,CAAQiB,KAAR,EAIf,KAAA,CAAKC,MAAL,CAAclB,OAAA,CAAQiB,KAAR,EAAA,CAAgBE,SAAhB,CAA0B,EAA1B,CAId,KAAA,CAAKC,cAAL,CAAsBpB,OAAA,CAAQqB,eAAR,EAItB,KAAA,CAAKC,IAAL,CAAY,EAKZ,KAAA,CAAKC,IAAL,CAAY,EACZ,IAAI,CAACR,WAAL,CACI,MAAO,KAEPA,YAAJ,CAAgBC,OAAhB,GACI,IADJ,CACSA,OADT,CACmBD,WADnB,CAC+BC,OAD/B,CAGID,YAAJ,CAAgBG,MAAhB,GACI,IADJ,CACSA,MADT,CACkBH,WADlB,CAC8BG,MAD9B,CAGIH,YAAJ,CAAgBS,YAAhB,GACI,IADJ,CACSA,YADT,CACwBT,WADxB,CACoCS,YADpC,CAII;SAAJ,EAAiBT,YAAjB,GACI,IADJ,CACSU,OADT,CACmBV,WADnB,CAC+BU,OAD/B,CAGIV,YAAJ,CAAgBW,EAAhB,GACI,IADJ,CACSA,EADT,CACcX,WADd,CAC0BW,EAD1B,CAGIX,YAAJ,CAAgBY,WAAhB,GACI,IADJ,CACSA,WADT,CACuBZ,WADvB,CACmCY,WADnC,CAGIZ,YAAJ,CAAgBQ,IAAhB,GACI,IADJ,CACSA,IADT,CACgBR,WADhB,CAC4BQ,IAD5B,CAGIR,YAAJ,CAAgBO,IAAhB,GACI,IADJ,CACSA,IADT,CACgBP,WADhB,CAC4BO,IAD5B,CAGIP,YAAJ,CAAgBa,MAAhB,GACI,IADJ,CACSA,MADT,CACkBb,WADlB,CAC8Ba,MAD9B,CAGIb,YAAJ,CAAgBK,cAAhB,GACI,IADJ,CACSA,cADT,CAC0BL,WAD1B,CACsCK,cADtC,CAGIL,YAAJ,CAAgBc,YAAhB,GACI,IADJ,CACSA,YADT,CACwBd,WADxB,CACoCc,YADpC,CAxDuB,CAgE3Bf,IAAA,CAAKR,SAAL,CAAewB,KAAf,CAAuBC,QAAS,CAAChB,WAAD,CAAc,CAC1C,MAAO,KAAA,CAAKiB,UAAL,CAAgBjB,WAAhB,CADmC,CAM9CD;IAAA,CAAKR,SAAL,CAAe0B,UAAf,CAA4BC,QAAS,CAAClB,WAAD,CAAc,CAC3CmB,WAAAA,CAAY,IAAIpB,IAAJ,CAASf,OAAA,CAAQoC,QAAR,CAAiBpC,OAAA,CAAQoC,QAAR,CAAiB,EAAjB,CAAqBpB,WAArB,CAAjB,CAAoD,CAAES,aAAc,IAAdA,CAAmBN,MAArB,CAA6BO,QAAS,IAATA,CAAcA,OAA3C,CAAoDT,QAAS,IAATA,CAAcA,OAAlE,CAApD,CAAT,CAChBkB,YAAA,CAAUvB,YAAV,CAAyB,IAAzB,CAA8BA,YAC1BuB,YAAJ,CAAcvB,YAAd,EACIuB,WAAA,CAAUvB,YAAV,CAAuBJ,GAAvB,CAA2B2B,WAA3B,CAEJA,YAAA,CAAUE,WAAV,CAAwB,IAAxB,CAA6BA,WAC7B,OAAOF,YAPwC,CAYnDpB,KAAA,CAAKR,SAAL,CAAe+B,MAAf,CAAwBC,QAAS,CAACC,GAAD,CAAMzC,KAAN,CAAa,CAC1C,IAAI0C,EACJ,KAAA,CAAKlB,IAAL,CAAYvB,OAAA,CAAQoC,QAAR,CAAiBpC,OAAA,CAAQoC,QAAR,CAAiB,EAAjB,CAAqB,IAArB,CAA0Bb,IAA1B,CAAjB,EAAmDkB,EAAA,CAAK,EAAL,CAASA,EAAA,CAAGD,GAAH,CAAT,CAAmBzC,KAAnB,CAA0B0C,EAA7E,EACZ,OAAO,KAHmC,CAS9C1B;IAAA,CAAKR,SAAL,CAAemC,OAAf,CAAyBC,QAAS,CAACH,GAAD,CAAMzC,KAAN,CAAa,CAC3C,IAAI0C,EACJ,KAAA,CAAKjB,IAAL,CAAYxB,OAAA,CAAQoC,QAAR,CAAiBpC,OAAA,CAAQoC,QAAR,CAAiB,EAAjB,CAAqB,IAArB,CAA0BZ,IAA1B,CAAjB,EAAmDiB,EAAA,CAAK,EAAL,CAASA,EAAA,CAAGD,GAAH,CAAT,CAAmBzC,KAAnB,CAA0B0C,EAA7E,EACZ,OAAO,KAHoC,CAQ/C1B,KAAA,CAAKR,SAAL,CAAeqC,SAAf,CAA2BC,QAAS,CAAC9C,KAAD,CAAQ,CACxC,IAAA,CAAK8B,MAAL,CAAc9B,KACd,OAAO,KAFiC,CAO5CgB,KAAA,CAAKR,SAAL,CAAeuC,aAAf,CAA+BC,QAAS,CAACC,UAAD,CAAa,CACjD,IAAA,CAAKV,MAAL,CAAY,kBAAZ,CAAgCW,MAAA,CAAOD,UAAP,CAAhC,CACIE,WAAAA,CAAahD,YAAA,CAAaiD,UAAb,CAAwBC,YAAxB,CAAqCJ,UAArC,CACbE,WAAJ,GAAmBhD,YAAnB,CAAgCiD,UAAhC,CAA2CE,YAA3C,EACI,IAAA,CAAKT,SAAL,CAAeM,UAAf,CAEJ,OAAO,KAN0C,CAWrDnC,KAAA,CAAKR,SAAL,CAAe+C,SAAf,CAA2BC,QAAS,EAAG,CACnC,MAAO,KAAP,CAAY1B,MAAZ;AAAuB3B,YAAvB,CAAoCiD,UAApC,CAA+CK,EADZ,CAMvCzC,KAAA,CAAKR,SAAL,CAAekD,MAAf,CAAwBC,QAAS,CAAC5B,YAAD,CAAe,CAC5C,IAAA,CAAKA,YAAL,CAA4C,QAAxB,GAAA,MAAOA,aAAP,CAAmCA,YAAnC,CAAkD7B,OAAA,CAAQqB,eAAR,EAD1B,CAMhDP,KAAA,CAAKR,SAAL,CAAeoD,aAAf,CAA+BC,QAAS,EAAG,CACvC,IAAIC,cAAgB,EACChD,KAAAA,EAArB,GAAI,IAAJ,CAASa,OAAT,GACImC,aADJ,CACoB,IAAA,CAAKnC,OAAL,CAAe,IAAf,CAAsB,IAD1C,CAGA,OAAO,KAAP,CAAYT,OAAZ,CAAsB,GAAtB,CAA4B,IAA5B,CAAiCE,MAAjC,CAA0C0C,aALH,CAU3C9C,KAAA,CAAKR,SAAL,CAAeuD,eAAf,CAAiCC,QAAS,EAAG,CACzC,MAAO9D,QAAA,CAAQ+D,iBAAR,CAA0B,CAC7BxC,KAAsC,CAAhC,CAAA3B,MAAA,CAAOoE,IAAP,CAAY,IAAZ,CAAiBzC,IAAjB,CAAA,CAAuBb,MAAvB,CAAoC,IAApC,CAAyCa,IAAzC,CAAgDX,IAAAA,EADzB,CAE7Be,YAAa,IAAbA,CAAkBA,WAFW,CAG7BD,GAAI,IAAJA,CAASA,EAHoB;AAI7BuC,eAAgB,IAAhBA,CAAqBzC,YAJQ,CAK7B0C,QAAS,IAATA,CAAchD,MALe,CAM7BU,OAAQ,IAARA,CAAaA,MANgB,CAO7BN,KAAsC,CAAhC,CAAA1B,MAAA,CAAOoE,IAAP,CAAY,IAAZ,CAAiB1C,IAAjB,CAAA,CAAuBZ,MAAvB,CAAoC,IAApC,CAAyCY,IAAzC,CAAgDV,IAAAA,EAPzB,CAQ7BuD,SAAU,IAAVA,CAAenD,OARc,CAA1B,CADkC,CAe7CF,KAAA,CAAKR,SAAL,CAAe8D,MAAf,CAAwBC,QAAS,EAAG,CAChC,MAAOrE,QAAA,CAAQ+D,iBAAR,CAA0B,CAC7BxC,KAAsC,CAAhC,CAAA3B,MAAA,CAAOoE,IAAP,CAAY,IAAZ,CAAiBzC,IAAjB,CAAA,CAAuBb,MAAvB,CAAoC,IAApC,CAAyCa,IAAzC,CAAgDX,IAAAA,EADzB,CAE7Be,YAAa,IAAbA,CAAkBA,WAFW,CAG7BD,GAAI,IAAJA,CAASA,EAHoB,CAI7BuC,eAAgB,IAAhBA,CAAqBzC,YAJQ,CAK7B0C,QAAS,IAATA,CAAchD,MALe,CAM7BoD,gBAAiB,IAAjBA,CAAsBlD,cANO,CAO7BQ,OAAQ,IAARA,CAAaA,MAPgB,CAQ7BN,KAAsC,CAAhC,CAAA1B,MAAA,CAAOoE,IAAP,CAAY,IAAZ,CAAiB1C,IAAjB,CAAA,CAAuBZ,MAAvB,CAAoC,IAApC,CAAyCY,IAAzC,CAAgDV,IAAAA,EARzB,CAS7B2D,UAAW,IAAXA,CAAgB1C,YATa;AAU7BsC,SAAU,IAAVA,CAAenD,OAVc,CAA1B,CADyB,CAcpC,OAAOF,KA/K2B,CAAZ,EAiL1BnB,QAAA,CAAQmB,IAAR,CAAeA,MAtN2F;",
"sources":["node_modules/@sentry/tracing/dist/span.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$tracing$dist$span\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar utils_1 = require(\"@sentry/utils\");\nvar spanstatus_1 = require(\"./spanstatus\");\n/**\n * Keeps track of finished spans for a given transaction\n * @internal\n * @hideconstructor\n * @hidden\n */\nvar SpanRecorder = /** @class */ (function () {\n    function SpanRecorder(maxlen) {\n        if (maxlen === void 0) { maxlen = 1000; }\n        this.spans = [];\n        this._maxlen = maxlen;\n    }\n    /**\n     * This is just so that we don't run out of memory while recording a lot\n     * of spans. At some point we just stop and flush out the start of the\n     * trace tree (i.e.the first n spans with the smallest\n     * start_timestamp).\n     */\n    SpanRecorder.prototype.add = function (span) {\n        if (this.spans.length > this._maxlen) {\n            span.spanRecorder = undefined;\n        }\n        else {\n            this.spans.push(span);\n        }\n    };\n    return SpanRecorder;\n}());\nexports.SpanRecorder = SpanRecorder;\n/**\n * Span contains all data about a span\n */\nvar Span = /** @class */ (function () {\n    /**\n     * You should never call the constructor manually, always use `hub.startSpan()`.\n     * @internal\n     * @hideconstructor\n     * @hidden\n     */\n    function Span(spanContext) {\n        /**\n         * @inheritDoc\n         */\n        this.traceId = utils_1.uuid4();\n        /**\n         * @inheritDoc\n         */\n        this.spanId = utils_1.uuid4().substring(16);\n        /**\n         * Timestamp in seconds when the span was created.\n         */\n        this.startTimestamp = utils_1.timestampWithMs();\n        /**\n         * @inheritDoc\n         */\n        this.tags = {};\n        /**\n         * @inheritDoc\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.data = {};\n        if (!spanContext) {\n            return this;\n        }\n        if (spanContext.traceId) {\n            this.traceId = spanContext.traceId;\n        }\n        if (spanContext.spanId) {\n            this.spanId = spanContext.spanId;\n        }\n        if (spanContext.parentSpanId) {\n            this.parentSpanId = spanContext.parentSpanId;\n        }\n        // We want to include booleans as well here\n        if ('sampled' in spanContext) {\n            this.sampled = spanContext.sampled;\n        }\n        if (spanContext.op) {\n            this.op = spanContext.op;\n        }\n        if (spanContext.description) {\n            this.description = spanContext.description;\n        }\n        if (spanContext.data) {\n            this.data = spanContext.data;\n        }\n        if (spanContext.tags) {\n            this.tags = spanContext.tags;\n        }\n        if (spanContext.status) {\n            this.status = spanContext.status;\n        }\n        if (spanContext.startTimestamp) {\n            this.startTimestamp = spanContext.startTimestamp;\n        }\n        if (spanContext.endTimestamp) {\n            this.endTimestamp = spanContext.endTimestamp;\n        }\n    }\n    /**\n     * @inheritDoc\n     * @deprecated\n     */\n    Span.prototype.child = function (spanContext) {\n        return this.startChild(spanContext);\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.startChild = function (spanContext) {\n        var childSpan = new Span(tslib_1.__assign(tslib_1.__assign({}, spanContext), { parentSpanId: this.spanId, sampled: this.sampled, traceId: this.traceId }));\n        childSpan.spanRecorder = this.spanRecorder;\n        if (childSpan.spanRecorder) {\n            childSpan.spanRecorder.add(childSpan);\n        }\n        childSpan.transaction = this.transaction;\n        return childSpan;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setTag = function (key, value) {\n        var _a;\n        this.tags = tslib_1.__assign(tslib_1.__assign({}, this.tags), (_a = {}, _a[key] = value, _a));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    Span.prototype.setData = function (key, value) {\n        var _a;\n        this.data = tslib_1.__assign(tslib_1.__assign({}, this.data), (_a = {}, _a[key] = value, _a));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setStatus = function (value) {\n        this.status = value;\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setHttpStatus = function (httpStatus) {\n        this.setTag('http.status_code', String(httpStatus));\n        var spanStatus = spanstatus_1.SpanStatus.fromHttpCode(httpStatus);\n        if (spanStatus !== spanstatus_1.SpanStatus.UnknownError) {\n            this.setStatus(spanStatus);\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.isSuccess = function () {\n        return this.status === spanstatus_1.SpanStatus.Ok;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.finish = function (endTimestamp) {\n        this.endTimestamp = typeof endTimestamp === 'number' ? endTimestamp : utils_1.timestampWithMs();\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toTraceparent = function () {\n        var sampledString = '';\n        if (this.sampled !== undefined) {\n            sampledString = this.sampled ? '-1' : '-0';\n        }\n        return this.traceId + \"-\" + this.spanId + sampledString;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.getTraceContext = function () {\n        return utils_1.dropUndefinedKeys({\n            data: Object.keys(this.data).length > 0 ? this.data : undefined,\n            description: this.description,\n            op: this.op,\n            parent_span_id: this.parentSpanId,\n            span_id: this.spanId,\n            status: this.status,\n            tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n            trace_id: this.traceId,\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toJSON = function () {\n        return utils_1.dropUndefinedKeys({\n            data: Object.keys(this.data).length > 0 ? this.data : undefined,\n            description: this.description,\n            op: this.op,\n            parent_span_id: this.parentSpanId,\n            span_id: this.spanId,\n            start_timestamp: this.startTimestamp,\n            status: this.status,\n            tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n            timestamp: this.endTimestamp,\n            trace_id: this.traceId,\n        });\n    };\n    return Span;\n}());\nexports.Span = Span;\n//# sourceMappingURL=span.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","tslib_1","utils_1","spanstatus_1","SpanRecorder","maxlen","spans","_maxlen","prototype","add","SpanRecorder.prototype.add","span","length","spanRecorder","undefined","push","Span","spanContext","traceId","uuid4","spanId","substring","startTimestamp","timestampWithMs","tags","data","parentSpanId","sampled","op","description","status","endTimestamp","child","Span.prototype.child","startChild","Span.prototype.startChild","childSpan","__assign","transaction","setTag","Span.prototype.setTag","key","_a","setData","Span.prototype.setData","setStatus","Span.prototype.setStatus","setHttpStatus","Span.prototype.setHttpStatus","httpStatus","String","spanStatus","SpanStatus","fromHttpCode","UnknownError","isSuccess","Span.prototype.isSuccess","Ok","finish","Span.prototype.finish","toTraceparent","Span.prototype.toTraceparent","sampledString","getTraceContext","Span.prototype.getTraceContext","dropUndefinedKeys","keys","parent_span_id","span_id","trace_id","toJSON","Span.prototype.toJSON","start_timestamp","timestamp"]
}
