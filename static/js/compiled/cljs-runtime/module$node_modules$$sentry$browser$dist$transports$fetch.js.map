{
"version":3,
"file":"module$node_modules$$sentry$browser$dist$transports$fetch.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/@sentry/browser/dist/transports/fetch.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$browser$dist$transports$fetch\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@sentry/core\");\nvar utils_1 = require(\"@sentry/utils\");\nvar base_1 = require(\"./base\");\nvar global = utils_1.getGlobalObject();\n/** `fetch` based transport */\nvar FetchTransport = /** @class */ (function (_super) {\n    tslib_1.__extends(FetchTransport, _super);\n    function FetchTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @inheritDoc\n     */\n    FetchTransport.prototype.sendEvent = function (event) {\n        return this._sendRequest(core_1.eventToSentryRequest(event, this._api), event);\n    };\n    /**\n     * @inheritDoc\n     */\n    FetchTransport.prototype.sendSession = function (session) {\n        return this._sendRequest(core_1.sessionToSentryRequest(session, this._api), session);\n    };\n    /**\n     * @param sentryRequest Prepared SentryRequest to be delivered\n     * @param originalPayload Original payload used to create SentryRequest\n     */\n    FetchTransport.prototype._sendRequest = function (sentryRequest, originalPayload) {\n        var _this = this;\n        if (this._isRateLimited(sentryRequest.type)) {\n            return Promise.reject({\n                event: originalPayload,\n                type: sentryRequest.type,\n                reason: \"Transport locked till \" + this._disabledUntil(sentryRequest.type) + \" due to too many requests.\",\n                status: 429,\n            });\n        }\n        var options = {\n            body: sentryRequest.body,\n            method: 'POST',\n            // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n            // https://caniuse.com/#feat=referrer-policy\n            // It doesn't. And it throw exception instead of ignoring this parameter...\n            // REF: https://github.com/getsentry/raven-js/issues/1233\n            referrerPolicy: (utils_1.supportsReferrerPolicy() ? 'origin' : ''),\n        };\n        if (this.options.fetchParameters !== undefined) {\n            Object.assign(options, this.options.fetchParameters);\n        }\n        if (this.options.headers !== undefined) {\n            options.headers = this.options.headers;\n        }\n        return this._buffer.add(new utils_1.SyncPromise(function (resolve, reject) {\n            global\n                .fetch(sentryRequest.url, options)\n                .then(function (response) {\n                var headers = {\n                    'x-sentry-rate-limits': response.headers.get('X-Sentry-Rate-Limits'),\n                    'retry-after': response.headers.get('Retry-After'),\n                };\n                _this._handleResponse({ requestType: sentryRequest.type, response: response, headers: headers, resolve: resolve, reject: reject });\n            })\n                .catch(reject);\n        }));\n    };\n    return FetchTransport;\n}(base_1.BaseTransport));\nexports.FetchTransport = FetchTransport;\n//# sourceMappingURL=fetch.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","tslib_1","core_1","utils_1","base_1","getGlobalObject","FetchTransport","_super","apply","arguments","__extends","prototype","sendEvent","FetchTransport.prototype.sendEvent","event","_sendRequest","eventToSentryRequest","_api","sendSession","FetchTransport.prototype.sendSession","session","sessionToSentryRequest","FetchTransport.prototype._sendRequest","sentryRequest","originalPayload","_this","_isRateLimited","type","Promise","reject","reason","_disabledUntil","status","options","body","method","referrerPolicy","supportsReferrerPolicy","undefined","fetchParameters","assign","headers","_buffer","add","SyncPromise","resolve","fetch","url","then","response","get","_handleResponse","requestType","catch","BaseTransport"]
}
