{
"version":3,
"file":"module$node_modules$$sentry$integrations$dist$dedupe.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@sentry/integrations/dist/dedupe.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$integrations$dist$dedupe\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Deduplication filter */\nvar Dedupe = /** @class */ (function () {\n    function Dedupe() {\n        /**\n         * @inheritDoc\n         */\n        this.name = Dedupe.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    Dedupe.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(function (currentEvent) {\n            var self = getCurrentHub().getIntegration(Dedupe);\n            if (self) {\n                // Juuust in case something goes wrong\n                try {\n                    if (self._shouldDropEvent(currentEvent, self._previousEvent)) {\n                        return null;\n                    }\n                }\n                catch (_oO) {\n                    return (self._previousEvent = currentEvent);\n                }\n                return (self._previousEvent = currentEvent);\n            }\n            return currentEvent;\n        });\n    };\n    /** JSDoc */\n    Dedupe.prototype._shouldDropEvent = function (currentEvent, previousEvent) {\n        if (!previousEvent) {\n            return false;\n        }\n        if (this._isSameMessageEvent(currentEvent, previousEvent)) {\n            return true;\n        }\n        if (this._isSameExceptionEvent(currentEvent, previousEvent)) {\n            return true;\n        }\n        return false;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameMessageEvent = function (currentEvent, previousEvent) {\n        var currentMessage = currentEvent.message;\n        var previousMessage = previousEvent.message;\n        // If neither event has a message property, they were both exceptions, so bail out\n        if (!currentMessage && !previousMessage) {\n            return false;\n        }\n        // If only one event has a stacktrace, but not the other one, they are not the same\n        if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n            return false;\n        }\n        if (currentMessage !== previousMessage) {\n            return false;\n        }\n        if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n            return false;\n        }\n        if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n            return false;\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._getFramesFromEvent = function (event) {\n        var exception = event.exception;\n        if (exception) {\n            try {\n                // @ts-ignore Object could be undefined\n                return exception.values[0].stacktrace.frames;\n            }\n            catch (_oO) {\n                return undefined;\n            }\n        }\n        else if (event.stacktrace) {\n            return event.stacktrace.frames;\n        }\n        return undefined;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameStacktrace = function (currentEvent, previousEvent) {\n        var currentFrames = this._getFramesFromEvent(currentEvent);\n        var previousFrames = this._getFramesFromEvent(previousEvent);\n        // If neither event has a stacktrace, they are assumed to be the same\n        if (!currentFrames && !previousFrames) {\n            return true;\n        }\n        // If only one event has a stacktrace, but not the other one, they are not the same\n        if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n            return false;\n        }\n        currentFrames = currentFrames;\n        previousFrames = previousFrames;\n        // If number of frames differ, they are not the same\n        if (previousFrames.length !== currentFrames.length) {\n            return false;\n        }\n        // Otherwise, compare the two\n        for (var i = 0; i < previousFrames.length; i++) {\n            var frameA = previousFrames[i];\n            var frameB = currentFrames[i];\n            if (frameA.filename !== frameB.filename ||\n                frameA.lineno !== frameB.lineno ||\n                frameA.colno !== frameB.colno ||\n                frameA.function !== frameB.function) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._getExceptionFromEvent = function (event) {\n        return event.exception && event.exception.values && event.exception.values[0];\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameExceptionEvent = function (currentEvent, previousEvent) {\n        var previousException = this._getExceptionFromEvent(previousEvent);\n        var currentException = this._getExceptionFromEvent(currentEvent);\n        if (!previousException || !currentException) {\n            return false;\n        }\n        if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n            return false;\n        }\n        if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n            return false;\n        }\n        if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n            return false;\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameFingerprint = function (currentEvent, previousEvent) {\n        var currentFingerprint = currentEvent.fingerprint;\n        var previousFingerprint = previousEvent.fingerprint;\n        // If neither event has a fingerprint, they are assumed to be the same\n        if (!currentFingerprint && !previousFingerprint) {\n            return true;\n        }\n        // If only one event has a fingerprint, but not the other one, they are not the same\n        if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n            return false;\n        }\n        currentFingerprint = currentFingerprint;\n        previousFingerprint = previousFingerprint;\n        // Otherwise, compare the two\n        try {\n            return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n        }\n        catch (_oO) {\n            return false;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Dedupe.id = 'Dedupe';\n    return Dedupe;\n}());\nexports.Dedupe = Dedupe;\n//# sourceMappingURL=dedupe.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Dedupe","name","id","prototype","setupOnce","Dedupe.prototype.setupOnce","addGlobalEventProcessor","getCurrentHub","currentEvent","self","getIntegration","_shouldDropEvent","_previousEvent","_oO","Dedupe.prototype._shouldDropEvent","previousEvent","_isSameMessageEvent","_isSameExceptionEvent","Dedupe.prototype._isSameMessageEvent","currentMessage","message","previousMessage","_isSameFingerprint","_isSameStacktrace","_getFramesFromEvent","Dedupe.prototype._getFramesFromEvent","event","exception","values","stacktrace","frames","Dedupe.prototype._isSameStacktrace","currentFrames","previousFrames","length","i","frameA","frameB","filename","lineno","colno","function","_getExceptionFromEvent","Dedupe.prototype._getExceptionFromEvent","Dedupe.prototype._isSameExceptionEvent","previousException","currentException","type","Dedupe.prototype._isSameFingerprint","currentFingerprint","fingerprint","previousFingerprint","join"]
}
