{
"version":3,
"file":"goog.i18n.uchar.js",
"lineCount":74,
"mappings":"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",
"sources":["goog/i18n/uchar.js"],
"sourcesContent":["// Copyright 2009 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Collection of utility functions for Unicode character.\n *\n */\n\ngoog.provide('goog.i18n.uChar');\n\n\n// Constants for handling Unicode supplementary characters (surrogate pairs).\n\n\n/**\n * The minimum value for Supplementary code points.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ = 0x10000;\n\n\n/**\n * The highest Unicode code point value (scalar value) according to the Unicode\n * Standard.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.CODE_POINT_MAX_VALUE_ = 0x10FFFF;\n\n\n/**\n * Lead surrogate minimum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ = 0xD800;\n\n\n/**\n * Lead surrogate maximum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.LEAD_SURROGATE_MAX_VALUE_ = 0xDBFF;\n\n\n/**\n * Trail surrogate minimum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ = 0xDC00;\n\n\n/**\n * Trail surrogate maximum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_MAX_VALUE_ = 0xDFFF;\n\n\n/**\n * The number of least significant bits of a supplementary code point that in\n * UTF-16 become the least significant bits of the trail surrogate. The rest of\n * the in-use bits of the supplementary code point become the least significant\n * bits of the lead surrogate.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_ = 10;\n\n\n/**\n * Gets the U+ notation string of a Unicode character. Ex: 'U+0041' for 'A'.\n * @param {string} ch The given character.\n * @return {string} The U+ notation of the given character.\n */\ngoog.i18n.uChar.toHexString = function(ch) {\n  const chCode = goog.i18n.uChar.toCharCode(ch);\n  const chCodeStr = 'U+' +\n      goog.i18n.uChar.padString_(chCode.toString(16).toUpperCase(), 4, '0');\n\n  return chCodeStr;\n};\n\n\n/**\n * Gets a string padded with given character to get given size.\n * @param {string} str The given string to be padded.\n * @param {number} length The target size of the string.\n * @param {string} ch The character to be padded with.\n * @return {string} The padded string.\n * @private\n */\ngoog.i18n.uChar.padString_ = function(str, length, ch) {\n  while (str.length < length) {\n    str = ch + str;\n  }\n  return str;\n};\n\n\n/**\n * Gets Unicode value of the given character.\n * @param {string} ch The given character, which in the case of a supplementary\n * character is actually a surrogate pair. The remainder of the string is\n * ignored.\n * @return {number} The Unicode value of the character.\n */\ngoog.i18n.uChar.toCharCode = function(ch) {\n  return goog.i18n.uChar.getCodePointAround(ch, 0);\n};\n\n\n/**\n * Gets a character from the given Unicode value. If the given code point is not\n * a valid Unicode code point, null is returned.\n * @param {number} code The Unicode value of the character.\n * @return {?string} The character corresponding to the given Unicode value.\n */\ngoog.i18n.uChar.fromCharCode = function(code) {\n  if (code == null ||\n      !(code >= 0 && code <= goog.i18n.uChar.CODE_POINT_MAX_VALUE_)) {\n    return null;\n  }\n  if (goog.i18n.uChar.isSupplementaryCodePoint(code)) {\n    // First, we split the code point into the trail surrogate part (the\n    // TRAIL_SURROGATE_BIT_COUNT_ least significant bits) and the lead surrogate\n    // part (the rest of the bits, shifted down; note that for now this includes\n    // the supplementary offset, also shifted down, to be subtracted off below).\n    const leadBits = code >> goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_;\n    const trailBits = code &\n        // A bit-mask to get the TRAIL_SURROGATE_BIT_COUNT_ (i.e. 10) least\n        // significant bits. 1 << 10 = 0x0400. 0x0400 - 1 = 0x03FF.\n        ((1 << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_) - 1);\n\n    // Now we calculate the code point of each surrogate by adding each offset\n    // to the corresponding base code point.\n    const leadCodePoint = leadBits +\n        (goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ -\n         // Subtract off the supplementary offset, which had been shifted down\n         // with the rest of leadBits. We do this here instead of before the\n         // shift in order to save a separate subtraction step.\n         (goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ >>\n          goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_));\n    const trailCodePoint =\n        trailBits + goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_;\n\n    // Convert the code points into a 2-character long string.\n    return String.fromCharCode(leadCodePoint) +\n        String.fromCharCode(trailCodePoint);\n  }\n  return String.fromCharCode(code);\n};\n\n\n/**\n * Returns the Unicode code point at the specified index.\n *\n * If the char value specified at the given index is in the leading-surrogate\n * range, and the following index is less than the length of `string`, and\n * the char value at the following index is in the trailing-surrogate range,\n * then the supplementary code point corresponding to this surrogate pair is\n * returned.\n *\n * If the char value specified at the given index is in the trailing-surrogate\n * range, and the preceding index is not before the start of `string`, and\n * the char value at the preceding index is in the leading-surrogate range, then\n * the negated supplementary code point corresponding to this surrogate pair is\n * returned.\n *\n * The negation allows the caller to differentiate between the case where the\n * given index is at the leading surrogate and the one where it is at the\n * trailing surrogate, and thus deduce where the next character starts and\n * preceding character ends.\n *\n * Otherwise, the char value at the given index is returned. Thus, a leading\n * surrogate is returned when it is not followed by a trailing surrogate, and a\n * trailing surrogate is returned when it is not preceded by a leading\n * surrogate.\n *\n * @param {string} string The string.\n * @param {number} index The index from which the code point is to be retrieved.\n * @return {number} The code point at the given index. If the given index is\n * that of the start (i.e. lead surrogate) of a surrogate pair, returns the code\n * point encoded by the pair. If the given index is that of the end (i.e. trail\n * surrogate) of a surrogate pair, returns the negated code pointed encoded by\n * the pair.\n */\ngoog.i18n.uChar.getCodePointAround = function(string, index) {\n  const charCode = string.charCodeAt(index);\n  if (goog.i18n.uChar.isLeadSurrogateCodePoint(charCode) &&\n      index + 1 < string.length) {\n    const trail = string.charCodeAt(index + 1);\n    if (goog.i18n.uChar.isTrailSurrogateCodePoint(trail)) {\n      // Part of a surrogate pair.\n      return /** @type {number} */ (\n          goog.i18n.uChar.buildSupplementaryCodePoint(charCode, trail));\n    }\n  } else if (goog.i18n.uChar.isTrailSurrogateCodePoint(charCode) && index > 0) {\n    const lead = string.charCodeAt(index - 1);\n    if (goog.i18n.uChar.isLeadSurrogateCodePoint(lead)) {\n      // Part of a surrogate pair.\n      const codepoint = /** @type {number} */ (\n          goog.i18n.uChar.buildSupplementaryCodePoint(lead, charCode));\n      return -codepoint;\n    }\n  }\n  return charCode;\n};\n\n\n/**\n * Determines the length of the string needed to represent the specified\n * Unicode code point.\n * @param {number} codePoint\n * @return {number} 2 if codePoint is a supplementary character, 1 otherwise.\n */\ngoog.i18n.uChar.charCount = function(codePoint) {\n  return goog.i18n.uChar.isSupplementaryCodePoint(codePoint) ? 2 : 1;\n};\n\n\n/**\n * Determines whether the specified Unicode code point is in the supplementary\n * Unicode characters range.\n * @param {number} codePoint\n * @return {boolean} Whether then given code point is a supplementary character.\n */\ngoog.i18n.uChar.isSupplementaryCodePoint = function(codePoint) {\n  return codePoint >= goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.CODE_POINT_MAX_VALUE_;\n};\n\n\n/**\n * Gets whether the given code point is a leading surrogate character.\n * @param {number} codePoint\n * @return {boolean} Whether the given code point is a leading surrogate\n * character.\n */\ngoog.i18n.uChar.isLeadSurrogateCodePoint = function(codePoint) {\n  return codePoint >= goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.LEAD_SURROGATE_MAX_VALUE_;\n};\n\n\n/**\n * Gets whether the given code point is a trailing surrogate character.\n * @param {number} codePoint\n * @return {boolean} Whether the given code point is a trailing surrogate\n * character.\n */\ngoog.i18n.uChar.isTrailSurrogateCodePoint = function(codePoint) {\n  return codePoint >= goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.TRAIL_SURROGATE_MAX_VALUE_;\n};\n\n\n/**\n * Composes a supplementary Unicode code point from the given UTF-16 surrogate\n * pair. If leadSurrogate isn't a leading surrogate code point or trailSurrogate\n * isn't a trailing surrogate code point, null is returned.\n * @param {number} lead The leading surrogate code point.\n * @param {number} trail The trailing surrogate code point.\n * @return {?number} The supplementary Unicode code point obtained by decoding\n * the given UTF-16 surrogate pair.\n */\ngoog.i18n.uChar.buildSupplementaryCodePoint = function(lead, trail) {\n  if (goog.i18n.uChar.isLeadSurrogateCodePoint(lead) &&\n      goog.i18n.uChar.isTrailSurrogateCodePoint(trail)) {\n    const shiftedLeadOffset =\n        (lead << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_) -\n        (goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_\n         << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_);\n    const trailOffset = trail - goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ +\n        goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_;\n    return shiftedLeadOffset + trailOffset;\n  }\n  return null;\n};\n"],
"names":["goog","provide","i18n","uChar","SUPPLEMENTARY_CODE_POINT_MIN_VALUE_","CODE_POINT_MAX_VALUE_","LEAD_SURROGATE_MIN_VALUE_","LEAD_SURROGATE_MAX_VALUE_","TRAIL_SURROGATE_MIN_VALUE_","TRAIL_SURROGATE_MAX_VALUE_","TRAIL_SURROGATE_BIT_COUNT_","toHexString","goog.i18n.uChar.toHexString","ch","chCode","toCharCode","chCodeStr","padString_","toString","toUpperCase","goog.i18n.uChar.padString_","str","length","goog.i18n.uChar.toCharCode","getCodePointAround","fromCharCode","goog.i18n.uChar.fromCharCode","code","isSupplementaryCodePoint","leadBits","trailBits","leadCodePoint","trailCodePoint","String","goog.i18n.uChar.getCodePointAround","string","index","charCode","charCodeAt","isLeadSurrogateCodePoint","trail","isTrailSurrogateCodePoint","buildSupplementaryCodePoint","lead","codepoint","charCount","goog.i18n.uChar.charCount","codePoint","goog.i18n.uChar.isSupplementaryCodePoint","goog.i18n.uChar.isLeadSurrogateCodePoint","goog.i18n.uChar.isTrailSurrogateCodePoint","goog.i18n.uChar.buildSupplementaryCodePoint","shiftedLeadOffset","trailOffset"]
}
