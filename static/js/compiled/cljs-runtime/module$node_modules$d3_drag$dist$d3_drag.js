shadow$provide.module$node_modules$d3_drag$dist$d3_drag=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_dispatch$dist$d3_dispatch"),require("module$node_modules$d3_selection$dist$d3_selection")):"function"===typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection"],factory):(global=global||self,factory(global.d3=global.d3||{},
global.d3,global.d3))})(this,function(exports,d3Dispatch,d3Selection){function noevent(event){event.preventDefault();event.stopImmediatePropagation()}function nodrag(view){var root=view.document.documentElement;view=d3Selection.select(view).on("dragstart.drag",noevent,!0);if("onselectstart"in root)view.on("selectstart.drag",noevent,!0);else root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none"}function yesdrag(view,noclick){var root=view.document.documentElement,selection=d3Selection.select(view).on("dragstart.drag",
null);noclick&&(selection.on("click.drag",noevent,!0),setTimeout(function(){selection.on("click.drag",null)},0));if("onselectstart"in root)selection.on("selectstart.drag",null);else root.style.MozUserSelect=root.__noselect,delete root.__noselect}function DragEvent(type,{sourceEvent,subject,target,identifier,active,x,y,dx,dy,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},subject:{value:subject,enumerable:!0,
configurable:!0},target:{value:target,enumerable:!0,configurable:!0},identifier:{value:identifier,enumerable:!0,configurable:!0},active:{value:active,enumerable:!0,configurable:!0},x:{value:x,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:dx,enumerable:!0,configurable:!0},dy:{value:dy,enumerable:!0,configurable:!0},_:{value:dispatch}})}function defaultFilter(event){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(event,
d){return null==d?{x:event.x,y:event.y}:d}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}var constant=x=>()=>x;DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};exports.drag=function(){function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action",
"none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(event,d){!touchending&&filter.call(this,event,d)&&(d=beforestart(this,container$jscomp$0.call(this,event,d),event,d,"mouse"))&&(d3Selection.select(event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(event.view),event.stopImmediatePropagation(),mousemoving=!1,mousedownx=event.clientX,mousedowny=event.clientY,d("start",event))}function mousemoved(event){noevent(event);if(!mousemoving){var dx=
event.clientX-mousedownx,dy=event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag",event)}function mouseupped(event){d3Selection.select(event.view).on("mousemove.drag mouseup.drag",null);yesdrag(event.view,mousemoving);noevent(event);gestures.mouse("end",event)}function touchstarted(event,d){if(filter.call(this,event,d)){var touches=event.changedTouches,c=container$jscomp$0.call(this,event,d),n=touches.length,i,gesture;for(i=0;i<n;++i)if(gesture=beforestart(this,c,event,
d,touches[i].identifier,touches[i]))event.stopImmediatePropagation(),gesture("start",event,touches[i])}}function touchmoved(event){var touches=event.changedTouches,n=touches.length,i,gesture;for(i=0;i<n;++i)if(gesture=gestures[touches[i].identifier])noevent(event),gesture("drag",event,touches[i])}function touchended(event){var touches=event.changedTouches,n=touches.length,i,gesture;touchending&&clearTimeout(touchending);touchending=setTimeout(function(){touchending=null},500);for(i=0;i<n;++i)if(gesture=
gestures[touches[i].identifier])event.stopImmediatePropagation(),gesture("end",event,touches[i])}function beforestart(that,container,event$jscomp$0,d,identifier,touch$jscomp$0){var dispatch=listeners.copy(),p=d3Selection.pointer(touch$jscomp$0||event$jscomp$0,container),s;if(null!=(s=subject.call(that,new DragEvent("beforestart",{sourceEvent:event$jscomp$0,target:drag,identifier,active,x:p[0],y:p[1],dx:0,dy:0,dispatch}),d))){var dx=s.x-p[0]||0;var dy=s.y-p[1]||0;return function gesture(type,event,
touch){var p0=p;switch(type){case "start":gestures[identifier]=gesture;var n=active++;break;case "end":delete gestures[identifier],--active;case "drag":p=d3Selection.pointer(touch||event,container),n=active}dispatch.call(type,that,new DragEvent(type,{sourceEvent:event,subject:s,target:drag,identifier,active:n,x:p[0]+dx,y:p[1]+dy,dx:p[0]-p0[0],dy:p[1]-p0[1],dispatch}),d)}}}var filter=defaultFilter,container$jscomp$0=defaultContainer,subject=defaultSubject,touchable=defaultTouchable,gestures={},listeners=
d3Dispatch.dispatch("start","drag","end"),active=0,mousedownx,mousedowny,mousemoving,touchending,clickDistance2=0;drag.filter=function(_){return arguments.length?(filter="function"===typeof _?_:constant(!!_),drag):filter};drag.container=function(_){return arguments.length?(container$jscomp$0="function"===typeof _?_:constant(_),drag):container$jscomp$0};drag.subject=function(_){return arguments.length?(subject="function"===typeof _?_:constant(_),drag):subject};drag.touchable=function(_){return arguments.length?
(touchable="function"===typeof _?_:constant(!!_),drag):touchable};drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value};drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)};return drag};exports.dragDisable=nodrag;exports.dragEnable=yesdrag;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_drag$dist$d3_drag.js.map
