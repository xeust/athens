shadow$provide.module$node_modules$kapsule$dist$kapsule_common=function(global,require,module,exports){var debounce=function(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}(require("module$node_modules$debounce$index")),Prop=function Prop(name,_ref){var _ref$default=_ref["default"];_ref$default=void 0===_ref$default?null:_ref$default;var _ref$triggerUpdate=_ref.triggerUpdate;_ref$triggerUpdate=void 0===_ref$triggerUpdate?!0:_ref$triggerUpdate;_ref=_ref.onChange;_ref=void 0===
_ref?function(newVal,state){}:_ref;if(!(this instanceof Prop))throw new TypeError("Cannot call a class as a function");this.name=name;this.defaultVal=_ref$default;this.triggerUpdate=_ref$triggerUpdate;this.onChange=_ref};module.exports=function(_ref2){var _ref2$stateInit=_ref2.stateInit,stateInit=void 0===_ref2$stateInit?function(){return{}}:_ref2$stateInit;_ref2$stateInit=_ref2.props;var rawProps=void 0===_ref2$stateInit?{}:_ref2$stateInit;_ref2$stateInit=_ref2.methods;var methods=void 0===_ref2$stateInit?
{}:_ref2$stateInit;_ref2$stateInit=_ref2.aliases;var aliases=void 0===_ref2$stateInit?{}:_ref2$stateInit;_ref2$stateInit=_ref2.init;var initFn=void 0===_ref2$stateInit?function(){}:_ref2$stateInit;_ref2=_ref2.update;var updateFn=void 0===_ref2?function(){}:_ref2,props=Object.keys(rawProps).map(function(propName){return new Prop(propName,rawProps[propName])});return function(){function comp(nodeElement){initFn.call(comp,nodeElement,state$jscomp$0,options);state$jscomp$0.initialised=!0;digest();return comp}
var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},state$jscomp$0=Object.assign({},stateInit instanceof Function?stateInit(options):stateInit,{initialised:!1}),changedProps={},digest=debounce(function(){state$jscomp$0.initialised&&(updateFn.call(comp,state$jscomp$0,changedProps),changedProps={})},1);props.forEach(function(prop$jscomp$0){comp[prop$jscomp$0.name]=function(_ref3){var prop=_ref3.name,_ref3$triggerUpdate=_ref3.triggerUpdate,redigest=void 0===_ref3$triggerUpdate?!1:_ref3$triggerUpdate;
_ref3$triggerUpdate=_ref3.onChange;var onChange=void 0===_ref3$triggerUpdate?function(newVal,state){}:_ref3$triggerUpdate;_ref3=_ref3.defaultVal;var defaultVal=void 0===_ref3?null:_ref3;return function(_){var curVal=state$jscomp$0[prop];if(!arguments.length)return curVal;var val=void 0===_?defaultVal:_;state$jscomp$0[prop]=val;onChange.call(comp,val,state$jscomp$0,curVal);!changedProps.hasOwnProperty(prop)&&(changedProps[prop]=curVal);redigest&&digest();return comp}}(prop$jscomp$0)});Object.keys(methods).forEach(function(methodName){comp[methodName]=
function(){for(var _methods$methodName,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_methods$methodName=methods[methodName]).call.apply(_methods$methodName,[comp,state$jscomp$0].concat(args))}});Object.entries(aliases).forEach(function(_ref4){var JSCompiler_inline_result=Array.isArray(_ref4)?_ref4:void 0;if(!JSCompiler_inline_result)if(Symbol.iterator in Object(_ref4)||"[object Arguments]"===Object.prototype.toString.call(_ref4)){JSCompiler_inline_result=
[];var _n=!0,_d=!1,_e=void 0;try{for(var _i=_ref4[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(JSCompiler_inline_result.push(_s.value),2!==JSCompiler_inline_result.length);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i["return"])_i["return"]()}finally{if(_d)throw _e;}}}else JSCompiler_inline_result=void 0;if(!(_ref4=JSCompiler_inline_result))throw new TypeError("Invalid attempt to destructure non-iterable instance");return comp[_ref4[0]]=comp[_ref4[1]]});comp.resetProps=function(){props.forEach(function(prop){comp[prop.name](prop.defaultVal)});
return comp};comp.resetProps();state$jscomp$0._rerender=digest;return comp}}}
//# sourceMappingURL=module$node_modules$kapsule$dist$kapsule_common.js.map
