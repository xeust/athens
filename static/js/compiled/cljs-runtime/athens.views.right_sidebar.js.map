{"version":3,"sources":["athens/views/right_sidebar.cljs"],"mappings":"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","names":["athens.views.right-sidebar/sidebar-style","athens.style.color","athens.views.right-sidebar/sidebar-content-style","athens.views.right-sidebar/sidebar-section-heading-style","athens.views.right-sidebar/sidebar-item-style","athens.views.right-sidebar/sidebar-item-toggle-style","athens.views.right-sidebar/sidebar-item-container-style","athens.views.right-sidebar/sidebar-item-heading-style","athens.style/OPACITIES","athens.views.right-sidebar/empty-message-style","athens.views.right-sidebar/empty-message","stylefy.core.use_style","js/module$node_modules$$material_ui$icons$VerticalSplit.default","athens.views.right-sidebar/right-sidebar-el","_","rf-width","state","reagent.core.atom","move-handler","e","cljs.core/deref","x","inner-w","js/window.innerWidth","width","cljs.core.swap_BANG_","cljs.core/assoc","mouse-up-handler","re-frame.core/dispatch","reagent.core/create-class","js/document.addEventListener","js/document.removeEventListener","open?","items","cljs.core.merge","G__60731","cljs.core.assoc","athens.style/ZINDICES","cljs.core/empty?","cljs.core.doall","iter__4529__auto__","s__60733","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__60735","cljs.core/chunk-buffer","i__60734","vec__60736","cljs.core/-nth","cljs.core.nth","map__60739","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__60732","cljs.core/chunk-rest","vec__60741","cljs.core/first","map__60744","cljs.core/cons","cljs.core/rest","uid","open","title","string","is-graph?","athens.views.buttons/button","js/module$node_modules$$material_ui$icons$ChevronRight.default","js/module$node_modules$$material_ui$icons$BubbleChart.default","athens.parse-renderer/parse-and-render","js/module$node_modules$$material_ui$icons$Description.default","js/module$node_modules$$material_ui$icons$FiberManualRecord.default","js/module$node_modules$$material_ui$icons$Close.default","athens.views.graph-page/graph-page","athens.views.node-page/node-page-component","athens.views.block-page/block-page-component","athens.views.right-sidebar/right-sidebar-component","re_frame.core.subscribe","cljs.core/chunk-first"],"sourcesContent":["(ns athens.views.right-sidebar\n  (:require\n    [\"@material-ui/icons/BubbleChart\" :default BubbleChart]\n    [\"@material-ui/icons/ChevronRight\" :default ChevronRight]\n    [\"@material-ui/icons/Close\" :default Close]\n    [\"@material-ui/icons/Description\" :default Description]\n    [\"@material-ui/icons/FiberManualRecord\" :default FiberManualRecord]\n    [\"@material-ui/icons/VerticalSplit\" :default VerticalSplit]\n    [athens.parse-renderer :as parse-renderer]\n    [athens.style :refer [color OPACITIES ZINDICES]]\n    [athens.views.block-page :refer [block-page-component]]\n    [athens.views.buttons :refer [button]]\n    [athens.views.graph-page :refer [graph-page]]\n    [athens.views.node-page :refer [node-page-component]]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [re-frame.core :refer [dispatch subscribe]]\n    [reagent.core :as r]\n    [stylefy.core :as stylefy :refer [use-style]]))\n\n\n;;; Styles\n\n\n(def sidebar-style\n  {:justify-self \"stretch\"\n   :overflow \"hidden\"\n   :width \"0\"\n   :grid-area \"secondary-content\"\n   :display \"flex\"\n   :justify-content \"space-between\"\n   :padding-top \"2.75rem\"\n   :transition-property \"width, border, background\"\n   :transition-duration \"0.35s\"\n   :transition-timing-function \"ease-out\"\n   :background-color (color :background-minus-1)\n   :box-shadow [[\"0 -100px 0 \" (color :background-minus-1) \", inset 1px 0 \" (color :background-minus-1)]]\n   ::stylefy/manual [[:svg {:color (color :body-text-color :opacity-high)}]\n                     [:&.is-closed {:width \"0\"}]\n                     [:&.is-open {:width \"32vw\"\n                                  :background-color (color :background-minus-1)}]\n                     [\"::-webkit-scrollbar\" {:background (color :background-minus-1)\n                                             :width \"0.5rem\"\n                                             :height \"0.5rem\"}]\n                     [\"::-webkit-scrollbar-thumb\" {:background (color :background-minus-2)\n                                                   :border-radius \"0.5rem\"}]]})\n\n\n(def sidebar-content-style\n  {:display \"flex\"\n   :flex \"1 1 32vw\"\n   :flex-direction \"column\"\n   :margin-left \"0\"\n   :transition \"all 0.35s ease-out\"\n   :overflow-y \"auto\"\n   ::stylefy/manual [[:&.is-closed {:margin-left \"-32vw\"\n                                    :opacity 0}]\n                     [:&.is-open {:opacity 1}]]})\n\n\n(def sidebar-section-heading-style\n  {:font-size \"14px\"\n   :display \"flex\"\n   :flex-direction \"row\"\n   :align-items \"center\"\n   :min-height \"2.75rem\"\n   :padding \"0.5rem 1rem 0.25rem 1.5rem\"\n   ::stylefy/manual [[:h1 {:font-size \"inherit\"\n                           :margin \"0 auto 0 0\"\n                           :line-height \"1\"\n                           :color (color :body-text-color :opacity-med)}]]})\n\n\n(def sidebar-item-style\n  {:display \"flex\"\n   :flex \"0 0 auto\"\n   :flex-direction \"column\"\n   :border-top [[\"1px solid\" (color :border-color)]]})\n\n\n(def sidebar-item-toggle-style\n  {:margin \"auto 0.5rem auto 0\"\n   :flex \"0 0 auto\"\n   :width \"1.75rem\"\n   :height \"1.75rem\"\n   :padding \"0\"\n   :border-radius \"1000px\"\n   :cursor \"pointer\"\n   :place-content \"center\"\n   ::stylefy/manual [[:svg {:transition \"all 0.1s ease-out\"\n                            :margin \"0\"}]\n                     [:&.is-open [:svg {:transform \"rotate(90deg)\"}]]]})\n\n\n(def sidebar-item-container-style\n  {:padding \"0 2rem 1.25rem\"\n   :line-height \"1.5rem\"\n   :font-size \"15px\"\n   :position \"relative\"\n   :z-index 1\n   ::stylefy/manual [[:h1 {:font-size \"1.5em\"\n                           :display \"-webkit-box\"\n                           :-webkit-box-orient \"vertical\"\n                           :-webkit-line-clamp 1\n                           :line-clamp 1\n                           :overflow \"hidden\"\n                           :text-overflow \"ellipsis\"}]\n                     [:.node-page :.block-page {:margin-top 0}]]})\n\n\n(def sidebar-item-heading-style\n  {:font-size \"16px\"\n   :display \"flex\"\n   :flex \"0 0 auto\"\n   :align-items \"center\"\n   :padding \"0.25rem 1rem\"\n   :position \"sticky\"\n   :z-index 2\n   :background (color :background-minus-1) ;; FIXME: Replace with weighted-mix color function\n   :top \"0\"\n   :bottom \"0\"\n   ::stylefy/manual [[:h2 {:font-size \"inherit\"\n                           :flex \"1 1 100%\"\n                           :line-height \"1\"\n                           :margin \"0\"\n                           :white-space \"nowrap\"\n                           :text-overflow \"ellipsis\"\n                           :font-weight \"normal\"\n                           :max-width \"100%\"\n                           :overflow \"hidden\"\n                           :align-items \"center\"\n                           :color (color :body-text-color)}\n                      [:svg {:opacity (:opacity-med OPACITIES)\n                             :display \"inline\"\n                             :vertical-align \"-4px\"\n                             :margin-right \"0.2em\"}]]\n                     [:.controls {:display \"flex\"\n                                  :flex \"0 0 auto\"\n                                  :align-items \"stretch\"\n                                  :flex-direction \"row\"\n                                  :transition \"opacity 0.3s ease-out\"\n                                  :opacity \"0.25\"}]\n                     [:&:hover [:.controls {:opacity \"1\"}]]\n                     [:svg {:font-size \"18px\"}]\n                     [:hr {:width \"1px\"\n                           :background (color :background-minus-1)\n                           :border \"0\"\n                           :margin \"0.25rem\"\n                           :flex \"0 0 1px\"\n                           :height \"1em\"\n                           :justify-self \"stretch\"}]\n                     [:&.is-open [:h2 {:font-weight \"500\"}]]]})\n\n\n(def empty-message-style\n  {:align-self \"center\"\n   :display \"flex\"\n   :flex-direction \"column\"\n   :margin \"auto auto\"\n   :align-items \"center\"\n   :text-align \"center\"\n   :color (color :body-text-color :opacity-med)\n   :font-size \"14px\"\n   :border-radius \"0.5rem\"\n   :line-height 1.3\n   ::stylefy/manual [[:svg {:opacity (:opacity-low OPACITIES)\n                            :font-size \"80px\"}]\n                     [:p {:max-width \"13em\"}]]})\n\n\n;;; Components\n\n\n(defn empty-message\n  []\n  [:div (use-style empty-message-style)\n   [:> VerticalSplit]\n   [:p\n    \"Hold \" [:kbd \"shift\"] \" when clicking a page link to view the page in the sidebar.\"]])\n\n\n(defn right-sidebar-el\n  \"Resizable: use local atom for width, but dispatch value to re-frame on mouse up. Instantiate local value with re-frame width too.\"\n  [_ _ rf-width]\n  (let [state (r/atom {:dragging false\n                       :width rf-width})\n        move-handler     (fn [e]\n                           (when (:dragging @state)\n                             (.. e preventDefault)\n                             (let [x       (.-clientX e)\n                                   inner-w js/window.innerWidth\n                                   width   (-> (- inner-w x)\n                                               (/ inner-w)\n                                               (* 100))]\n                               (swap! state assoc :width width))))\n        mouse-up-handler (fn []\n                           (when (:dragging @state)\n                             (swap! state assoc :dragging false)\n                             (dispatch [:right-sidebar/set-width (:width @state)])))]\n    (r/create-class\n      {:display-name           \"right-sidebar\"\n       :component-did-mount    (fn []\n                                 (js/document.addEventListener \"mousemove\" move-handler)\n                                 (js/document.addEventListener \"mouseup\" mouse-up-handler))\n       :component-will-unmount (fn []\n                                 (js/document.removeEventListener \"mousemove\" move-handler)\n                                 (js/document.removeEventListener \"mouseup\" mouse-up-handler))\n       :reagent-render         (fn [open? items _]\n                                 [:div (merge (use-style sidebar-style\n                                                         {:class [\"right-sidebar\" (if open? \"is-open\" \"is-closed\")]})\n                                              {:style (cond-> {}\n                                                        (:dragging @state) (assoc :transition-duration \"0s\")\n                                                        open? (assoc :width (str (:width @state) \"vw\")))})\n                                  [:div (use-style {:cursor           \"col-resize\"\n                                                    :height           \"100%\"\n                                                    :position         \"absolute\"\n                                                    :top              0\n                                                    :width            \"3px\"\n                                                    :z-index          (:zindex-fixed ZINDICES)\n                                                    :background-color (color :border-color)}\n                                                   {:on-mouse-down #(swap! state assoc :dragging true)})]\n                                  [:div (use-style sidebar-content-style {:class (if open? \"is-open\" \"is-closed\")})\n                                   ;; [:header (use-style sidebar-section-heading-style)] ;; Waiting on additional sidebar contents\n                                   ;;  [:h1 \"Pages and Blocks\"]]\n                                   ;;  [button [:> FilterList]]\n                                   (if (empty? items)\n                                     [empty-message]\n                                     (doall\n                                       (for [[uid {:keys [open node/title block/string is-graph?]}] items]\n                                         ^{:key uid}\n                                         [:article (use-style sidebar-item-style)\n                                          [:header (use-style sidebar-item-heading-style {:class (when open \"is-open\")})\n                                           [button {:style    sidebar-item-toggle-style\n                                                    :on-click #(dispatch [:right-sidebar/toggle-item uid])\n                                                    :class    (when open \"is-open\")}\n                                            [:> ChevronRight]]\n                                           [:h2\n                                            (cond\n                                              is-graph? [:<> [:> BubbleChart] [parse-renderer/parse-and-render title uid]]\n                                              title     [:<> [:> Description] [parse-renderer/parse-and-render title uid]]\n                                              :else     [:<> [:> FiberManualRecord] [parse-renderer/parse-and-render string uid]])]\n                                           [:div {:class \"controls\"}\n                                            ;;  [button [:> DragIndicator]]\n                                            ;;  [:hr]\n                                            [button {:on-click #(dispatch [:right-sidebar/close-item uid])}\n                                             [:> Close]]]]\n                                          (when open\n                                            [:div (use-style sidebar-item-container-style)\n                                             (cond\n                                               is-graph? [graph-page uid]\n                                               title     [node-page-component [:block/uid uid]]\n                                               :else     [block-page-component [:block/uid uid]])])])))]])})))\n\n\n(defn right-sidebar-component\n  []\n  (let [open? @(subscribe [:right-sidebar/open])\n        items @(subscribe [:right-sidebar/items])\n        width @(subscribe [:right-sidebar/width])]\n    [right-sidebar-el open? items width]))\n"]}