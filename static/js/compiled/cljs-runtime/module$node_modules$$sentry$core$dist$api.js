shadow$provide.module$node_modules$$sentry$core$dist$api=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("module$node_modules$$sentry$utils$dist$index");global=function(){function API(dsn){this.dsn=dsn;this._dsnObject=new utils_1.Dsn(dsn)}API.prototype.getDsn=function(){return this._dsnObject};API.prototype.getBaseApiEndpoint=function(){var dsn=this._dsnObject;return(dsn.protocol?dsn.protocol+":":"")+"//"+dsn.host+(dsn.port?":"+dsn.port:
"")+(dsn.path?"/"+dsn.path:"")+"/api/"};API.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")};API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()};API.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()};API.prototype.getStoreEndpointPath=function(){var dsn=this._dsnObject;return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"};API.prototype.getRequestHeaders=
function(clientName,clientVersion){var dsn=this._dsnObject,header=["Sentry sentry_version\x3d7"];header.push("sentry_client\x3d"+clientName+"/"+clientVersion);header.push("sentry_key\x3d"+dsn.user);dsn.pass&&header.push("sentry_secret\x3d"+dsn.pass);return{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}};API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this._dsnObject,endpoint=this.getBaseApiEndpoint()+"embed/error-page/",
encodedOptions=[];encodedOptions.push("dsn\x3d"+dsn.toString());for(var key in dialogOptions)"user"===key?dialogOptions.user&&(dialogOptions.user.name&&encodedOptions.push("name\x3d"+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email\x3d"+encodeURIComponent(dialogOptions.user.email))):encodedOptions.push(encodeURIComponent(key)+"\x3d"+encodeURIComponent(dialogOptions[key]));return encodedOptions.length?endpoint+"?"+encodedOptions.join("\x26"):endpoint};
API.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")};API.prototype._getIngestEndpoint=function(target){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+target+"/"};API.prototype._encodedAuth=function(){return utils_1.urlEncode({sentry_key:this._dsnObject.user,sentry_version:"7"})};return API}();exports.API=global}
//# sourceMappingURL=module$node_modules$$sentry$core$dist$api.js.map
